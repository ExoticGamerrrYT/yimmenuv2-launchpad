<Window
    x:Class="YimMenuV2_Launchpad.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="clr-namespace:YimMenuV2_Launchpad"
    mc:Ignorable="d"
    Title="YimMenu Launchpad"
    Height="550"
    Width="450"
    Background="#1A1A1A"
    WindowStartupLocation="CenterScreen"
    ResizeMode="NoResize"
>
    <Window.Resources>
        <!-- Modern Dark Button Style -->
        <Style x:Key="ModernButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#2D2D30" />
            <Setter Property="Foreground" Value="#E0E0E0" />
            <Setter Property="BorderBrush" Value="#3F3F46" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="15,10" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="6"
                        >
                            <ContentPresenter
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                            />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#383838" />
                                <Setter Property="BorderBrush" Value="#5A5A5A" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#404040" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!-- Primary Button Style (for Launch) -->
        <Style
            x:Key="PrimaryButtonStyle"
            TargetType="Button"
            BasedOn="{StaticResource ModernButtonStyle}"
        >
            <Setter Property="Background" Value="#0078D4" />
            <Setter Property="BorderBrush" Value="#106EBE" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="6"
                        >
                            <ContentPresenter
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                            />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#1084D6" />
                                <Setter Property="BorderBrush" Value="#1F7BC7" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#0E6CB8" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!-- ComboBox Style -->
        <Style x:Key="ModernComboBoxStyle" TargetType="ComboBox">
            <Setter Property="Background" Value="#2D2D30" />
            <Setter Property="Foreground" Value="#E0E0E0" />
            <Setter Property="BorderBrush" Value="#3F3F46" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="10,8" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Height" Value="40" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <ToggleButton
                                Name="ToggleButton"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                Focusable="False"
                                IsChecked="{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                ClickMode="Press"
                            >
                                <ToggleButton.Template>
                                    <ControlTemplate TargetType="ToggleButton">
                                        <Border
                                            Background="{TemplateBinding Background}"
                                            BorderBrush="{TemplateBinding BorderBrush}"
                                            BorderThickness="{TemplateBinding BorderThickness}"
                                            CornerRadius="6"
                                        >
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition />
                                                    <ColumnDefinition Width="20" />
                                                </Grid.ColumnDefinitions>
                                                <ContentPresenter
                                                    Grid.Column="0"
                                                    Margin="8,0,0,0"
                                                    VerticalAlignment="Center"
                                                    HorizontalAlignment="Left"
                                                />
                                                <Path
                                                    Grid.Column="1"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Data="M0,0 L4,4 L8,0 Z"
                                                    Fill="#E0E0E0"
                                                />
                                            </Grid>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#383838" />
                                                <Setter Property="BorderBrush" Value="#5A5A5A" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </ToggleButton.Template>
                            </ToggleButton>
                            <ContentPresenter
                                Name="ContentSite"
                                IsHitTestVisible="False"
                                Content="{TemplateBinding SelectionBoxItem}"
                                ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                Margin="8,3,23,3"
                                VerticalAlignment="Center"
                                HorizontalAlignment="Left"
                            />
                            <Popup
                                Name="Popup"
                                Placement="Bottom"
                                IsOpen="{TemplateBinding IsDropDownOpen}"
                                AllowsTransparency="True"
                                Focusable="False"
                                PopupAnimation="Slide"
                            >
                                <Grid
                                    Name="DropDown"
                                    SnapsToDevicePixels="True"
                                    MinWidth="{TemplateBinding ActualWidth}"
                                    MaxHeight="{TemplateBinding MaxDropDownHeight}"
                                >
                                    <Border
                                        Name="DropDownBorder"
                                        Background="#2D2D30"
                                        BorderBrush="#3F3F46"
                                        BorderThickness="1"
                                        CornerRadius="6"
                                    />
                                    <ScrollViewer Margin="4,6,4,6" SnapsToDevicePixels="True">
                                        <StackPanel
                                            IsItemsHost="True"
                                            KeyboardNavigation.DirectionalNavigation="Contained"
                                        />
                                    </ScrollViewer>
                                </Grid>
                            </Popup>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!-- ComboBoxItem Style -->
        <Style TargetType="ComboBoxItem">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="#E0E0E0" />
            <Setter Property="Padding" Value="8,6" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBoxItem">
                        <Border
                            Background="{TemplateBinding Background}"
                            Padding="{TemplateBinding Padding}"
                        >
                            <ContentPresenter />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter Property="Background" Value="#404040" />
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="#0078D4" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!-- Mode Toggle Button Style -->
        <Style x:Key="ModeToggleButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#2D2D30" />
            <Setter Property="Foreground" Value="#E0E0E0" />
            <Setter Property="BorderBrush" Value="#3F3F46" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="15,8" />
            <Setter Property="FontSize" Value="12" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4"
                        >
                            <ContentPresenter
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                            />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#383838" />
                                <Setter Property="BorderBrush" Value="#5A5A5A" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#404040" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!-- Active Mode Toggle Button Style -->
        <Style
            x:Key="ActiveModeToggleButtonStyle"
            TargetType="Button"
            BasedOn="{StaticResource ModeToggleButtonStyle}"
        >
            <Setter Property="Background" Value="#0078D4" />
            <Setter Property="BorderBrush" Value="#106EBE" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4"
                        >
                            <ContentPresenter
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                            />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#1084D6" />
                                <Setter Property="BorderBrush" Value="#1F7BC7" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#0E6CB8" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Grid Margin="30">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="20" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="20" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="20" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="20" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="20" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <!-- Header -->
        <TextBlock
            Grid.Row="0"
            Text="YimMenu Launchpad"
            FontSize="24"
            FontWeight="Bold"
            Foreground="#E0E0E0"
            HorizontalAlignment="Center"
            Margin="0,0,0,20"
        />
        <!-- Mode Selection -->
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="5" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Button
                Grid.Column="0"
                Name="LegacyModeButton"
                Content="LEGACY"
                Style="{StaticResource ModeToggleButtonStyle}"
                Height="35"
                Click="LegacyModeButton_Click"
            />
            <Button
                Grid.Column="2"
                Name="EnhancedModeButton"
                Content="ENHANCED"
                Style="{StaticResource ActiveModeToggleButtonStyle}"
                Height="35"
                Click="EnhancedModeButton_Click"
            />
        </Grid>
        <!-- Launch Row: Button + Platform Dropdown -->
        <Grid Grid.Row="4">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1.5*" />
                <ColumnDefinition Width="10" />
                <ColumnDefinition Width="1.2*" />
            </Grid.ColumnDefinitions>
            <Button
                Grid.Column="0"
                Name="LaunchButton"
                Content="🚀 LAUNCH"
                Style="{StaticResource PrimaryButtonStyle}"
                Height="40"
                FontSize="16"
                Click="LaunchButton_Click"
            />
            <ComboBox
                Grid.Column="2"
                Name="PlatformComboBox"
                Style="{StaticResource ModernComboBoxStyle}"
                SelectedIndex="0"
            >
                <ComboBoxItem Content="Epic Games" />
                <ComboBoxItem Content="Steam" />
                <ComboBoxItem Content="Rockstar Games" />
            </ComboBox>
        </Grid>
        <!-- Inject Button -->
        <Button
            Grid.Row="6"
            Name="InjectButton"
            Content="💉 INJECT"
            Style="{StaticResource ModernButtonStyle}"
            Height="40"
            Click="InjectButton_Click"
        />
        <!-- Changelog Button -->
        <Button
            Grid.Row="8"
            Name="ChangelogButton"
            Content="📋 CHANGELOG"
            Style="{StaticResource ModernButtonStyle}"
            Height="40"
            Click="ChangelogButton_Click"
        />
        <!-- Open Folder Button -->
        <Button
            Grid.Row="10"
            Name="OpenFolderButton"
            Content="📁 OPEN YIMENU FOLDER"
            Style="{StaticResource ModernButtonStyle}"
            Height="40"
            Click="OpenFolderButton_Click"
        />
        <!-- Status Bar -->
        <Border
            Grid.Row="11"
            Background="#252526"
            BorderBrush="#3F3F46"
            BorderThickness="1"
            CornerRadius="4"
            Margin="0,20,0,0"
            VerticalAlignment="Bottom"
            Height="80"
        >
            <TextBlock
                Name="StatusTextBlock"
                Text="Ready!"
                Foreground="#E0E0E0"
                FontSize="12"
                Margin="15"
                VerticalAlignment="Center"
                TextWrapping="Wrap"
            />
        </Border>
    </Grid>
</Window>
